<template>
	<div :class="{ checked : tag.check }">
		<input type="checkbox" v-model="tag.check" :id="prefix + 'tag' + tag.id" :value="tag.id"><label :for="prefix + 'tag' + tag.id">{{ tag.name }}</label>
	</div>
</template>

<script>
    export default {
        props: {
            tag: {},
            prefix: {
                default: ''
            }
        },
        created() {
            if (this.tag.check === undefined) this.$set('tag.check', false)
        },
        watch: {
            "tag.check": function(val, old) {
                if(old !== undefined) this.$dispatch('change-check', this.tag)
            }
        }
    }
</script>

<style scoped>
    input[type="checkbox"] {
        display: none;
    }
    
    label {
        display: block;
        width: 100%;
        padding: 2px 10px;
    }
    
    .checked {
        background-color: lightgreen;
    }
</style>